
Процедура ОбработкаПроведения(Отказ, РежимПроведения)

	Если ОбменДанными.Загрузка Тогда
		Возврат
	КонецЕсли;
	
	Движения.ВходящийНДСпоЭСЧФ.Записывать = Истина;
	Движения.ВходящийНДСпоЭСЧФ.Очистить();
	// Отражение суммы
	Движение = Движения.ВходящийНДСпоЭСЧФ.Добавить();
	Движение.Период             = Дата;
	Если ЗначениеЗаполнено(ДатаСовершенияОперацииЭСЧФ) Тогда
		Движение.ПериодРегистрации = ДатаСовершенияОперацииЭСЧФ
	Иначе
		Движение.ПериодРегистрации = Дата
	КонецЕсли;
	Движение.Организация        = Организация;
	Движение.ВидДвижения        = ВидДвиженияНакопления.Приход;
	Движение.Контрагент         = Контрагент;
	Движение.ДоговорКонтрагента = ДоговорКонтрагента;
	Движение.НДС                = ИтогоСуммаНДС;//Товары.Итог("СуммаНДС");

КонецПроцедуры

Процедура ПриУстановкеНовогоНомера(СтандартнаяОбработка, Префикс)

	Если ОбменДанными.Загрузка Тогда
		Возврат
	КонецЕсли;
	
	СтандартнаяОбработка = Ложь

КонецПроцедуры

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
		
	Если ОбменДанными.Загрузка Тогда
		Возврат
	КонецЕсли;
	
КонецПроцедуры

Процедура ПередЗаписью(Отказ, РежимЗаписи, РежимПроведения)

	Если ОбменДанными.Загрузка Тогда
		Возврат
	КонецЕсли;
	
	Если Модифицированность() Тогда
		ЭСЧФобщий.РазложитьНомер(Номер, НомерГод, НомерОбъект, НомерНомер);
	КонецЕсли;

КонецПроцедуры
